<div class="container">
  <h1 class="fs-2 fw-bold mb-4">Text vs. Background Contrast Checker</h1>

  <div class="text-muted mb-3">
    This tool helps you debug and validate your themeâ€™s color accessibility. Select a background token
    and a text token to preview their visual pairing, calculate the contrast ratio, and check WCAG compliance.
    This is especially useful when designing
    custom themes to ensure your color combinations meet accessibility standards.
  </div>

  <div class="text-muted mb-3">
    Select a background token and a text token to see their contrast ratio and WCAG compliance.
    Works with all theme color tokens.
  </div>

  <div class="d-flex g-2 mb-3">
    <div>
      <div>Background:</div>
      <div>
        <select [(ngModel)]="selectedBg" class="form-select">
          @for (token of colorTokens(); track token) {
            <option [value]="token">{{ token }}</option>
          }
        </select>
      </div>
    </div>

    <div>
      <div>Foreground:</div>
      <div>
        <select [(ngModel)]="selectedText" class="form-select">
          @for (token of colorTokens(); track token) {
            <option [value]="token">{{ token }}</option>
          }
        </select>
      </div>
    </div>
  </div>

  <div class="p-4 border-1 rounded-md"
       [class]="'bg-' + selectedBg() + ' text-' + selectedText()">
    Sample Text
  </div>

  <div class="mt-2">
    Contrast Ratio: {{ getContrastRatio(selectedBg(), selectedText()) }}
    WCAG: {{ getCompliance(getContrastRatio(selectedBg(), selectedText())) }}
  </div>

  <h2 class="fs-4 fw-semibold mt-4 mb-2">Default On-* Token Contrast</h2>
  <div class="contrast-grid d-grid g-2">
    @for (bgToken of colorTokens(); track bgToken) {
      @if (bgToken.startsWith('on-') === false) {
        <div class="p-3 rounded-md border-1 border-neutral-variant bg-{{bgToken}} text-on-{{bgToken}}">
          <div class="fw-bold">bg-{{bgToken}} + text-on-{{bgToken}}</div>
          <div>Ratio: {{ getContrastRatio(bgToken, 'on-' + bgToken) }}</div>
          <div>WCAG: {{ getCompliance(getContrastRatio(bgToken, 'on-' + bgToken)) }}</div>
        </div>
      }
    }
  </div>
</div>

@use "sass:math";
@use 'variables' as *;

// ================================================
// Base Text, Background, Border Utilities
// ================================================
@each $token in $novix-color-tokens {
  %text-#{$token}   { color: var(--novix-#{$token}) !important; }
  %bg-#{$token}     { background-color: var(--novix-#{$token}) !important; }
  %border-#{$token} { border-color: var(--novix-#{$token}) !important; }
}

// ================================================
// Opacity Variants (10% increments)
// ================================================
@each $token in $novix-color-tokens {
  @each $opacity in $novix-opacity-steps {
    %text-#{$token}-#{$opacity} {
      color: rgba(var(--novix-#{$token}-rgb), #{math.div($opacity, 100)}) !important;
    }
    %bg-#{$token}-#{$opacity} {
      background-color: rgba(var(--novix-#{$token}-rgb), #{math.div($opacity, 100)}) !important;
    }
    %border-#{$token}-#{$opacity} {
      border-color: rgba(var(--novix-#{$token}-rgb), #{math.div($opacity, 100)}) !important;
    }
  }
}

// ================================================
// State Variants (hover, focus, active)
// ================================================
@each $token in $novix-color-tokens {
  %hover-text-#{$token}   { &:hover { color: var(--novix-#{$token}) !important; } }
  %hover-bg-#{$token}     { &:hover { background-color: var(--novix-#{$token}) !important; } }
  %hover-border-#{$token} { &:hover { border-color: var(--novix-#{$token}) !important; } }

  %focus-text-#{$token}   { &:focus { color: var(--novix-#{$token}) !important; } }
  %focus-bg-#{$token}     { &:focus { background-color: var(--novix-#{$token}) !important; } }
  %focus-border-#{$token} { &:focus { border-color: var(--novix-#{$token}) !important; } }

  %active-text-#{$token}   { &:active { color: var(--novix-#{$token}) !important; } }
  %active-bg-#{$token}     { &:active { background-color: var(--novix-#{$token}) !important; } }
  %active-border-#{$token} { &:active { border-color: var(--novix-#{$token}) !important; } }
}

// ================================================
// Per-side Border Color Utilities
// ================================================
@each $token in $novix-color-tokens {
  %border-top-#{$token}    { border-top-color: var(--novix-#{$token}) !important; }
  %border-end-#{$token}    { border-inline-end-color: var(--novix-#{$token}) !important; }
  %border-bottom-#{$token} { border-bottom-color: var(--novix-#{$token}) !important; }
  %border-start-#{$token}  { border-inline-start-color: var(--novix-#{$token}) !important; }
}

// ================================================
// Per-side Border Color Opacity Variants
// ================================================
@each $token in $novix-color-tokens {
  @each $opacity in $novix-opacity-steps {
    %border-top-#{$token}-#{$opacity} {
      border-top-color: rgba(var(--novix-#{$token}-rgb), #{math.div($opacity, 100)}) !important;
    }
    %border-end-#{$token}-#{$opacity} {
      border-inline-end-color: rgba(var(--novix-#{$token}-rgb), #{math.div($opacity, 100)}) !important;
    }
    %border-bottom-#{$token}-#{$opacity} {
      border-bottom-color: rgba(var(--novix-#{$token}-rgb), #{math.div($opacity, 100)}) !important;
    }
    %border-start-#{$token}-#{$opacity} {
      border-inline-start-color: rgba(var(--novix-#{$token}-rgb), #{math.div($opacity, 100)}) !important;
    }
  }
}

// ================================================
// Form State Utilities
// ================================================
@each $token in $novix-color-tokens {
  %placeholder-text-#{$token} {
    &::placeholder {
      color: var(--novix-#{$token});
    }
  }
  %disabled-bg-#{$token} {
    &:disabled {
      background-color: var(--novix-#{$token});
    }
  }
  %disabled-text-#{$token} {
    &:disabled {
      color: var(--novix-#{$token});
    }
  }
}

// ================================================
// Group Interaction Utilities
// ================================================
@each $token in $novix-color-tokens {
  %group-hover-bg-#{$token} {
    .group:hover & {
      background-color: var(--novix-#{$token});
    }
  }
  %group-focus-text-#{$token} {
    .group:focus & {
      color: var(--novix-#{$token});
    }
  }
}

@use "sass:map";
@use 'variables' as *;
@use 'mixins' as *;

// ================================================
// Spacing Utilities (Bootstrap-style naming)
// ================================================
$spacing-directions: (
  "": (margin),
  "t": (margin-top),
  "b": (margin-bottom),
  "s": (margin-inline-start),
  "e": (margin-inline-end),
  "x": (margin-left, margin-right),
  "y": (margin-top, margin-bottom)
);

$padding-directions: (
  "": (padding),
  "t": (padding-top),
  "b": (padding-bottom),
  "s": (padding-inline-start),
  "e": (padding-inline-end),
  "x": (padding-left, padding-right),
  "y": (padding-top, padding-bottom)
);

@each $abbr, $properties in $spacing-directions {
  @each $size, $value in $spacing-scale {
    .m#{$abbr}-#{$size} {
      @each $prop in $properties {
        #{$prop}: $value !important;
      }
    }
    @each $bp, $bp-width in $breakpoints {
      .m#{$abbr}-#{$bp}-#{$size} {
        @include novix-respond($bp) {
          @each $prop in $properties {
            #{$prop}: $value !important;
          }
        }
      }
    }
  }
}

@each $abbr, $properties in $padding-directions {
  @each $size, $value in $spacing-scale {
    .p#{$abbr}-#{$size} {
      @each $prop in $properties {
        #{$prop}: $value !important;
      }
    }
    @each $bp, $bp-width in $breakpoints {
      .p#{$abbr}-#{$bp}-#{$size} {
        @include novix-respond($bp) {
          @each $prop in $properties {
            #{$prop}: $value !important;
          }
        }
      }
    }
  }
}

// ================================================
// Display Utilities
// ================================================
$display-values: (
  none,
  inline,
  inline-block,
  block,
  flex,
  grid
);

@each $display in $display-values {
  .d-#{$display} {
    display: $display !important;
  }
  @each $bp, $bp-width in $breakpoints {
    .d-#{$bp}-#{$display} {
      @include novix-respond($bp) {
        display: $display !important;
      }
    }
  }
}

// ================================================
// Flex Wrap Utilities
// ================================================
$flex-wrap-values: (
  wrap: wrap,
  nowrap: nowrap,
  wrap-reverse: wrap-reverse
);

@each $name, $val in $flex-wrap-values {
  .flex-#{$name} { flex-wrap: $val !important; }
  @each $bp, $bp-width in $breakpoints {
    .flex-#{$bp}-#{$name} {
      @include novix-respond($bp) {
        flex-wrap: $val !important;
      }
    }
  }
}

// ================================================
// Flex Direction Utilities
// ================================================
$flex-directions: (row, row-reverse, column, column-reverse);
@each $dir in $flex-directions {
  .flex-#{$dir} { flex-direction: $dir !important; }
  @each $bp, $bp-width in $breakpoints {
    .flex-#{$bp}-#{$dir} {
      @include novix-respond($bp) {
        flex-direction: $dir !important;
      }
    }
  }
}

// ================================================
// Flex Grow Utilities
// ================================================
$flex-grow-values: (0, 1);

@each $val in $flex-grow-values {
  .flex-grow-#{$val} { flex-grow: $val !important; }
  @each $bp, $bp-width in $breakpoints {
    .flex-grow-#{$bp}-#{$val} {
      @include novix-respond($bp) {
        flex-grow: $val !important;
      }
    }
  }
}

// ================================================
// Flex Shrink Utilities
// ================================================
$flex-shrink-values: (0, 1);

@each $val in $flex-shrink-values {
  .flex-shrink-#{$val} { flex-shrink: $val !important; }
  @each $bp, $bp-width in $breakpoints {
    .flex-shrink-#{$bp}-#{$val} {
      @include novix-respond($bp) {
        flex-shrink: $val !important;
      }
    }
  }
}

// ================================================
// GAP UTILITIES
// ================================================
$gap-scale: $spacing-scale !default;

// Base gap utilities and responsive variants
@each $name, $size in $gap-scale {
  // Base
  .g-#{$name}   { gap: $size !important; }
  .gx-#{$name}  { column-gap: $size !important; }
  .gy-#{$name}  { row-gap: $size !important; }

  // Responsive
  @each $bp, $bp-width in $breakpoints {
    .g-#{$bp}-#{$name} {
      @include novix-respond($bp) { gap: $size !important; }
    }
    .gx-#{$bp}-#{$name} {
      @include novix-respond($bp) { column-gap: $size !important; }
    }
    .gy-#{$bp}-#{$name} {
      @include novix-respond($bp) { row-gap: $size !important; }
    }
  }
}

// ================================================
// ORDER UTILITIES
// ================================================

// Define the order values you want to support
// 0 is default, higher numbers push items later in the order
$order-values: (0, 1, 2, 3, 4, 5);

@each $val in $order-values {
  // Base
  .order-#{$val} { order: $val !important; }

  // Responsive
  @each $bp, $bp-width in $breakpoints {
    .order-#{$bp}-#{$val} {
      @include novix-respond($bp) {
        order: $val !important;
      }
    }
  }
}

// Special keyword values
$order-keywords: (
  first: -1,
  last: 999
);

@each $name, $val in $order-keywords {
  // Base
  .order-#{$name} { order: $val !important; }

  // Responsive
  @each $bp, $bp-width in $breakpoints {
    .order-#{$bp}-#{$name} {
      @include novix-respond($bp) {
        order: $val !important;
      }
    }
  }
}

// ================================================
// Justify-content (Bootstrap-style naming)
// ================================================
$justify-values: (
  start: flex-start,
  end: flex-end,
  center: center,
  between: space-between,
  around: space-around,
  evenly: space-evenly
);

@each $name, $val in $justify-values {
  .justify-content-#{$name} { justify-content: $val !important; }
  @each $bp, $bp-width in $breakpoints {
    .justify-content-#{$bp}-#{$name} {
      @include novix-respond($bp) {
        justify-content: $val !important;
      }
    }
  }
}

// ================================================
// Align-items (Bootstrap-style naming)
// ================================================
$align-values: (
  start: flex-start,
  end: flex-end,
  center: center,
  baseline: baseline,
  stretch: stretch
);

@each $name, $val in $align-values {
  .align-items-#{$name} { align-items: $val !important; }
  @each $bp, $bp-width in $breakpoints {
    .align-items-#{$bp}-#{$name} {
      @include novix-respond($bp) {
        align-items: $val !important;
      }
    }
  }
}

// ================================================
// Container Utilities
// ================================================
.container,
.container-fluid {
  width: 100%;
  margin-right: auto;
  margin-left: auto;
  padding-right: map.get($spacing-scale, 3);
  padding-left: map.get($spacing-scale, 3);
}

.container {
  @include novix-respond(sm) { max-width: 540px; }
  @include novix-respond(md) { max-width: 720px; }
  @include novix-respond(lg) { max-width: 960px; }
  @include novix-respond(xl) { max-width: 1140px; }
}

.container-fluid {
  max-width: 100%;
}

// ================================================
// BORDER WIDTH UTILITIES
// ================================================
$border-widths: (
  0: 0,
  1: 1px,
  2: 2px,
  3: 3px,
  4: 4px,
  5: 5px
);

// Whole element border widths
@each $name, $val in $border-widths {
  .border-#{$name} {
    border-width: $val !important;
    @if $val != 0 {
      border-style: solid !important;
    }
  }
}

// Per-side border widths
@each $name, $val in $border-widths {
  .border-top-#{$name}    { border-top-width: $val !important; }
  .border-end-#{$name}    { border-inline-end-width: $val !important; }
  .border-bottom-#{$name} { border-bottom-width: $val !important; }
  .border-start-#{$name}  { border-inline-start-width: $val !important; }
}

//
// ================================================
// BORDER STYLE UTILITIES
// ================================================
$border-styles: (solid, dashed, dotted, double, groove, ridge, inset, outset, none);

// Whole element border styles
@each $style in $border-styles {
  .border-#{$style} { border-style: $style !important; }
}

// Per-side border styles
@each $style in $border-styles {
  .border-top-#{$style}    { border-top-style: $style !important; }
  .border-end-#{$style}    { border-inline-end-style: $style !important; }
  .border-bottom-#{$style} { border-bottom-style: $style !important; }
  .border-start-#{$style}  { border-inline-start-style: $style !important; }
}

// ================================================
// Border Radius Utilities (Bootstrap-style naming)
// ================================================
@each $name, $val in $radius-scale {
  .rounded-#{$name} {
    border-radius: $val !important;
  }
}

// Per-corner radius utilities
@each $name, $val in $radius-scale {
  .rounded-top-#{$name} {
    border-top-left-radius: $val !important;
    border-top-right-radius: $val !important;
  }
  .rounded-end-#{$name} {
    border-top-right-radius: $val !important;
    border-bottom-right-radius: $val !important;
  }
  .rounded-bottom-#{$name} {
    border-bottom-left-radius: $val !important;
    border-bottom-right-radius: $val !important;
  }
  .rounded-start-#{$name} {
    border-top-left-radius: $val !important;
    border-bottom-left-radius: $val !important;
  }
}
